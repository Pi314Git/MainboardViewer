<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Mainboard 3D Ansicht</title>
    <style>
        /* === CSS bleibt unverändert === */
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #e0dcdc;
            background-color: #e0dcdc;
        }

        /* Moderne Info-Box */
        #info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(145deg, rgba(40, 40, 40, 0.9), rgba(30, 30, 30, 0.95));
            color: #f0f0f0;
            padding: 15px;
            border-radius: 10px;
            max-width: 300px;
            z-index: 1000;
            overflow: hidden; /* Wichtig für die Animation */
            height: auto;
            max-height: 0;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            visibility: hidden;
        }

        #info.open {
            max-height: 600px; /* Leicht erhöht für den zusätzlichen Inhalt */
            opacity: 1;
            transform: translateY(0);
            visibility: visible;
            overflow-y: auto; /* Scrollbar hinzufügen, falls Inhalt doch überläuft */
        }

        /* Scrollbar für Info-Box */
        #info::-webkit-scrollbar {
           width: 5px;
        }
        #info::-webkit-scrollbar-track {
           background: rgba(0,0,0,0.1);
        }
        #info::-webkit-scrollbar-thumb {
           background: rgba(255,255,255,0.2);
           border-radius: 3px;
        }
        #info::-webkit-scrollbar-thumb:hover {
           background: rgba(255,255,255,0.3);
        }


        #info-content {
            padding-top: 10px;
            line-height: 1.5; /* Etwas kompakter */
        }

        /* Styling für das <details> Element innerhalb der Info-Box */
        #info-content details {
             margin-top: 15px;
             border-top: 1px solid rgba(255, 255, 255, 0.1);
             padding-top: 10px;
        }
        #info-content summary {
            cursor: pointer;
            font-weight: bold;
            color: #ffb86c; /* Helleres Orange für den Titel */
            outline: none; /* Fokus-Rahmen entfernen */
            padding-bottom: 5px;
        }
        #info-content summary::marker { /* Standard-Pfeil ausblenden */
            display: none;
            content: "";
        }
        #info-content summary:hover {
            color: #ffd79c; /* Heller bei Hover */
        }

        #info-content details > div { /* Inhalt der Details */
             padding-top: 10px;
             padding-left: 5px; /* Leichte Einrückung */
             border-left: 2px solid rgba(255, 184, 108, 0.3); /* Linker Rand für den Inhalt */
             margin-left: 2px;
        }

        #info-content h4 {
             margin-top: 5px;
             margin-bottom: 8px;
             color: #f0f0f0;
             font-size: 1.05em;
        }
        #info-content p {
             margin-bottom: 8px;
             font-size: 0.95em;
        }
        #info-content p strong {
            color: #ffcc99; /* Hervorhebung für "Historisch" */
        }
        #info-content p em {
            font-style: italic;
            color: #ffcc99; /* Hervorhebung für "Programm" */
        }


        #close-button {
            position: absolute;
            top: 8px;
            right: 10px;
            cursor: pointer;
            color: #aaa;
            font-size: 1.2em;
            transition: color 0.2s;
        }

        #close-button:hover {
            color: white;
        }

        /* === Restliches CSS (Sidebar, Hotspot, Overlay, Quiz, Formfaktor etc.) bleibt unverändert === */
        /* Moderne Sidebar */
        #sidebar {
            position: absolute;
            top: 0;
            left: 0;
            width: 240px;
            height: 100%;
            background: linear-gradient(180deg, rgba(35, 35, 35, 0.95), rgba(25, 25, 25, 0.95));
            padding: 20px;
            box-sizing: border-box;
            z-index: 1001;
            overflow-y: auto;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }

        #sidebar h3 {
            color: #fff;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #sidebar li {
            padding: 12px 15px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            color: #fff;
        }

        #sidebar li:hover {
            background: rgba(255, 255, 255, 0.15);
            border-left: 3px solid rgba(255, 165, 0, 0.6);
            transform: translateX(3px);
        }

        #sidebar li.active {
            background: linear-gradient(90deg, rgba(255, 165, 0, 0.8), rgba(255, 140, 0, 0.6));
            color: #fff;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(255, 165, 0, 0.3);
            border-left: 3px solid #ff8c00;
        }

        #home-button {
            padding: 12px;
            background: linear-gradient(90deg, rgba(70, 70, 70, 0.7), rgba(50, 50, 50, 0.7));
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            margin-top: 15px;
            color: #f0f0f0;
            transition: all 0.2s;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #home-button:hover {
            background: linear-gradient(90deg, rgba(80, 80, 80, 0.8), rgba(60, 60, 60, 0.8));
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Scrollbar für Sidebar */
        #sidebar::-webkit-scrollbar {
            width: 6px;
        }

        #sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }

        #sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        #sidebar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .hotspot {
            display: none;
        }

        #overlay {
            display: none;
        }

        #exercises-section {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #2a2a2a;
        color: #f0f0f0;
        z-index: 2000;
        overflow-y: auto;
        padding: 40px;
        box-sizing: border-box;
    }

    #exercises-section h2 {
        color: #ff8c00;
        text-align: center;
        margin-bottom: 30px;
        font-size: 28px;
    }

    .quiz-container {
        max-width: 800px;
        margin: 0 auto;
    }

    .quiz-question {
        background: linear-gradient(145deg, rgba(40, 40, 40, 0.9), rgba(30, 30, 30, 0.95));
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .quiz-question p {
        font-size: 18px;
        margin-top: 0;
        margin-bottom: 15px;
    }

    .quiz-options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .option {
        display: flex;
        align-items: center;
        padding: 12px 15px;
        background: rgba(60, 60, 60, 0.5);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        border-left: 3px solid transparent;
    }

    .option:hover {
        background: rgba(80, 80, 80, 0.5);
        border-left: 3px solid rgba(255, 165, 0, 0.6);
        transform: translateX(3px);
    }

    .option input {
        margin-right: 15px;
    }

    .feedback {
        margin-top: 15px;
        padding: 12px;
        border-radius: 8px;
        font-weight: 500;
        display: none;
    }

    .feedback.correct {
        background: rgba(50, 205, 50, 0.2);
        border-left: 3px solid #32CD32;
        color: #98FB98;
        display: block;
    }

    .feedback.incorrect {
        background: rgba(220, 20, 60, 0.2);
        border-left: 3px solid #DC143C;
        color: #FFA07A;
        display: block;
    }

    #quiz-controls {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
    }

    #quiz-controls button {
        padding: 12px 25px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        font-size: 16px;
        transition: all 0.2s;
    }

    #check-answers {
        background: linear-gradient(90deg, rgba(255, 165, 0, 0.8), rgba(255, 140, 0, 0.6));
        color: #fff;
    }

    #check-answers:hover {
        background: linear-gradient(90deg, rgba(255, 165, 0, 0.9), rgba(255, 140, 0, 0.7));
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    #back-button {
        background: linear-gradient(90deg, rgba(70, 70, 70, 0.7), rgba(50, 50, 50, 0.7));
        color: #f0f0f0;
    }

    #back-button:hover {
        background: linear-gradient(90deg, rgba(80, 80, 80, 0.8), rgba(60, 60, 60, 0.8));
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

        #exercises-section p {
            margin-bottom: 10px;
        }
    </style>
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@latest/build/three.module.js"
            }
        }
    </script>
</head>
<body>
    <div id="info">
      <div id="close-button">&#10006;</div>
      <div id="info-content"></div>
    </div>
    <div id="sidebar">
        <h3>Mainboard-Komponenten</h3>
        <ul>
        </ul>
        <div id="home-button">Kamera Reset</div>
    </div>

    <div id="exercises-section">
        <h2>Übungsaufgaben</h2>
        <div class="quiz-container">
            <div class="quiz-question">
                <p><strong>1. Ein 8-Pin CPU Power Anschluss:</strong></p>
                <div class="quiz-options">
                    <label class="option">
                        <input type="radio" name="q1" value="true"> Liefert zusätzliche Energie für die CPU
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="false"> Ist für die Verbindung zur Grafikkarte zuständig
                    </label>
                </div>
                <div class="feedback" id="feedback-q1"></div>
            </div>

            <div class="quiz-question">
                <p><strong>2. Welche Aussage zum AM4 Sockel ist korrekt?</strong></p>
                <div class="quiz-options">
                    <label class="option">
                        <input type="radio" name="q2" value="a"> Verwendet die LGA-Architektur mit Pins am Mainboard
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="b"> Ist für Intel Core Prozessoren konzipiert
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="c"> Verwendet die PGA-Architektur mit Pins am Prozessor
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="d"> Der AM4-Sockel wird ausschließlich für High-End-Gaming-PCs genutzt.
                    </label>
                </div>
                <div class="feedback" id="feedback-q2"></div>
            </div>

            <div class="quiz-question">
                <p><strong>3. Der CMOS/BIOS-Chip auf dem Mainboard:</strong></p>
                <div class="quiz-options">
                    <label class="option">
                        <input type="radio" name="q3" value="true"> Speichert BIOS/UEFI-Einstellungen.
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="false"> Versorgt die CPU mit Strom, wenn der PC ausgeschaltet ist
                    </label>
                </div>
                <div class="feedback" id="feedback-q3"></div>
            </div>

            <div class="quiz-question">
                <p><strong>4. Was ist ein VRM auf einem Mainboard?</strong></p>
                <div class="quiz-options">
                    <label class="option">
                        <input type="radio" name="q4" value="a"> Virtual RAM Module - ein virtueller Arbeitsspeicher
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="b"> Video Resolution Manager - steuert die Grafikausgabe
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="c"> Voltage Regulator Module - wandelt die Spannung für die CPU herunter
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="d"> Variable Resistor Memory - ein Speicherchip für Widerstände
                    </label>
                </div>
                <div class="feedback" id="feedback-q4"></div>
            </div>

            <div class="quiz-question">
                <p><strong>5. Welcher Formfaktor ist der kleinste unter den folgenden?</strong></p>
                <div class="quiz-options">
                    <label class="option">
                        <input type="radio" name="q5" value="a"> ATX
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="b"> Micro-ATX
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="c"> Mini-ITX
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="d"> E-ATX
                    </label>
                </div>
                <div class="feedback" id="feedback-q5"></div>
            </div>
        </div>

        <div id="quiz-controls">
            <button id="check-answers">Antworten prüfen</button>
            <button id="back-button">Zurück zur 3D-Ansicht</button>
        </div>
    </div>

    <script type="module">
        import * as THREE from 'https://cdn.jsdelivr.net/npm/three@latest/build/three.module.js';
        import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@latest/examples/jsm/controls/OrbitControls.js';
        import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@latest/examples/jsm/loaders/GLTFLoader.js';

        // === THREE.js Initialisierung und Lichter bleiben unverändert ===
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);
        scene.background = new THREE.Color(0xcccccc);

        const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
        scene.add(ambientLight);
        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight1.position.set(1, 1, 1);
        scene.add(directionalLight1);
        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight2.position.set(-1, 1, -1);
        scene.add(directionalLight2);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.enablePan = true;
        controls.minDistance = 1;
        controls.maxDistance = 200; // Max zoom distanz
        controls.enableRotate = true; // Rotation an/aus
        controls.rotateSpeed = 0.8; // Rotationspeed
        controls.maxPolarAngle = Math.PI; // Full rotation
        controls.minPolarAngle = 0; // Full rotation 2


        // Alle Hotspot sachen
        const hotspotsData = [
             {
                name: "8-Pin CPU Stromanschluss",
                objectNames: ["8PinPow"],
                info: "Dies ist der 8-Pin-EPS-Anschluss. Er liefert zusätzliche Energie für die CPU. Besonders wichtig bei Hochleistungs-CPUs oder beim Übertakten, um stabile Stromversorgung zu gewährleisten."
            },
            {
                name: "24-Pin Mainboard Stromanschluss",
                objectNames: ["24Pin"],
                info: "Dies ist der 24-Pin-ATX-Anschluss. Er ist der Hauptstromanschluss für das Mainboard und versorgt die meisten Komponenten mit Strom. Manche High-End-Mainboards von ASUS, MSI oder GIGABYTE haben zusätzliche Stromanschlüsse."
            },
            {
                name: "AM4 Sockel",
                objectNames: ["AM4Text", "Am4Sockel"],
                info: "Dies ist der AM4-Sockel für AMD Ryzen-Prozessoren. AMD verwendet hier die PGA-Architektur (Pin Grid Array), bei der die Pins am Prozessor selbst und nicht am Mainboard angebracht sind, im Unterschied zur LGA-Architektur (Land Grid Array) von Intel. AM4 unterstützt mehrere Generationen von Ryzen-Prozessoren."
            },
            {
                name: "BIOS Battery",
                objectNames: ["BIOSBattery1", "BIOSBattery2"],
                // --- START: Geänderter Info-Text für BIOS Battery ---
                info: `
                    Dies ist die CMOS-Batterie (oft eine CR2032 Knopfzelle). Sie versorgt den CMOS-Speicher mit Strom, wenn der Computer ausgeschaltet ist. Dadurch bleiben wichtige System-Einstellungen wie Datum, Uhrzeit und Boot-Reihenfolge erhalten.
                    <details>
                        <summary>Mehr über CMOS-Speicher und (Flash)-ROM <span style="font-size: 0.8em;">▼</span></summary>
                        <div>
                            <h4>CMOS-Speicher</h4>
                            <p>Der CMOS-Speicher (Complementary Metal-Oxide-Semiconductor) ist ein kleiner, batteriegepufferter RAM-Speicherbereich auf dem Mainboard.</p>
                            <p>Hier werden die Konfigurationseinstellungen des BIOS/UEFI gespeichert (z.B. Boot-Reihenfolge, Hardware-Parameter, Datum/Uhrzeit).</p>
                            <p>Da es flüchtiger Speicher (RAM) ist, benötigt er die Batterie, um die Daten bei ausgeschaltetem PC zu halten. Ohne Strom gehen die Einstellungen verloren.</p>

                            <h4>(Flash-)ROM / BIOS/UEFI-Chip</h4>
                            <p>Auf einem separaten Chip (heute meist Flash-ROM) ist die eigentliche Firmware (BIOS oder UEFI) gespeichert – das Programm, das den PC startet.</p>
                            <p>Im Gegensatz zum CMOS (Einstellungen) enthält dieser Chip das <em>Programm</em> selbst.</p>
                            <p>Dank Flash-Speicher kann die Firmware aktualisiert werden ('BIOS-Flash').</p>
                            <p><strong>Historisch:</strong> Früher wurde die Firmware auf ROM-Chips (Read-Only Memory) gespeichert, die nicht oder nur schwer aktualisierbar waren.</p>
                        </div>
                    </details>
                `
                // --- END: Geänderter Info-Text für BIOS Battery ---
            },
            {
                name: "Chipsatz",
                objectNames: ["Chipset1", "Chipset2", "Cube"],
                info: "Dies ist der Chipsatz des Mainboards (in diesem Fall unter einem Kühlblock versteckt). Er steuert die Kommunikation zwischen CPU, RAM und Peripheriegeräten und verwaltet die PCIe-Lanes. Moderne Chipsätze wie AMD X570/B550 oder Intel Z790/B660 bestimmen, welche Technologien (PCIe 4.0/5.0, DDR4/DDR5) unterstützt werden. Früher war der Chipsatz in Northbridge und Southbridge aufgeteilt."
            },
            {
                name: "DIMM Slots / RAM",
                objectNames: ["DIMM"],
                info: "Dies sind die DIMM-Slots für RAM-Module. Moderne Mainboards unterstützen je nach Chipsatz DDR4 oder DDR5 RAM. Die Anzahl der Slots variiert je nach Mainboard-Typ (meist 2-4 auf Consumer-Boards, mehr auf High-End- oder Server-Boards)."
            },
            {
                name: "Fan Headers",
                objectNames: ["FanHeadersTest1"],
                info: "Dies sind die Anschlüsse für Gehäuselüfter und CPU-Lüfter. Sie ermöglichen die Steuerung der Lüftergeschwindigkeit durch das BIOS/UEFI. Mainboards von ASUS, MSI und GIGABYTE bieten oft spezielle Lüftersteuerungssoftware für präzisere Kontrolle."
            },
            {
                name: "Front Connectors",
                objectNames: ["Front1", "Front2"],
                info: "Hier werden die Anschlüsse des Gehäusefrontpanels angeschlossen (Power-Button, Reset-Button, HDD-LEDs, USB, Audio). Die Pinbelegung variiert je nach Hersteller, daher ist es wichtig, das Mainboard-Handbuch zu konsultieren."
            },
            {
                name: "M.2 Slot",
                objectNames: ["M2Pins", "M2Slot","M2Standoff1","M2Standoff2"],
                info: "Dies ist ein M.2-Steckplatz für schnelle SSDs. Er unterstützt NVMe- und SATA-SSDs. NVMe-SSDs nutzen PCIe-Lanes und bieten deutlich höhere Geschwindigkeiten als SATA. Moderne Chipsätze wie AMD X570 oder Intel Z790 bieten PCIe 4.0/5.0 M.2-Slots mit Geschwindigkeiten bis zu 14 GB/s."
            },
            {
                name: "PCIe 1x",
                objectNames: ["PCIE11"],
                info: "Dies sind PCIe-x1-Steckplätze für Erweiterungskarten. Sie bieten eine geringere Bandbreite als die größeren PCIe-Slots und werden typischerweise für Netzwerkkarten, Sound-Karten oder kleinere Erweiterungen verwendet. PCIe (Peripheral Component Interconnect Express) ist eine Hochgeschwindigkeits-Schnittstelle für Kommunikation zwischen Mainboard und Erweiterungskarten."
            },
            {
                name: "PCIe Slot 16x",
                objectNames: ["PCIESlot3", "PCIESlot2", "PCIESlot1"],
                info: "Dies ist ein PCIe-x16-Steckplatz. Er wird typischerweise für Grafikkarten oder andere Erweiterungskarten mit hoher Bandbreite verwendet. PCIe 4.0/5.0 x16-Slots bieten massive Bandbreite für modernste Grafikkarten. Die genaue Anzahl der elektrisch angebundenen Lanes kann je nach CPU und Chipsatz variieren."
            },
            {
                name: "RGB Header",
                objectNames: ["RGBHeader"],
                info: "Dies ist ein Anschluss für RGB-Beleuchtung. Hier können Sie RGB-Lüfter, -Streifen oder andere Beleuchtungselemente anschließen. Mainboard-Hersteller wie ASUS (Aura Sync), MSI (Mystic Light) und GIGABYTE (RGB Fusion) haben eigene RGB-Steuerungssoftware."
            },
            {
                name: "SATA Anschlüsse",
                objectNames: ["SATA"],
                info: "Dies sind SATA-Anschlüsse für Festplatten und SSDs. Sie bieten eine geringere Bandbreite (bis zu 600 MB/s) als M.2-NVMe-SSDs. Die Anzahl der SATA-Ports variiert je nach Chipsatz, wobei einige Ports deaktiviert werden können, wenn bestimmte M.2-Slots verwendet werden."
            },
            {
                name: "I/O Inputs",
                objectNames: ["IO"],
                info: "Dies ist das I/O-Panel. Hier befinden sich die Anschlüsse für externe Geräte wie USB, Audio, Netzwerk, DisplayPort, HDMI und andere. Die genaue Ausstattung variiert je nach Mainboard-Modell und Preisklasse."
            },
            {
                name: "VRM",
                objectNames: ["VRMDing"],
                info: "Dies ist der VRM (Voltage Regulator Module) Bereich. Er wandelt die Spannung für die CPU herunter und stellt eine stabile Stromversorgung sicher. Besonders wichtig für Übertaktung und Systemstabilität. High-End-Mainboards von ASUS, MSI und GIGABYTE haben oft robustere VRM-Designs mit mehr Phasen für bessere Stabilität bei Übertaktung."
            }
        ];

        let loadedModel;
        let currentHotspot = null;
        let originalMaterials = new Map();
        let initialCameraPosition;
        let initialCameraTarget;
        let mainboardCenter = new THREE.Vector3();
        let mainboardSize = new THREE.Vector3();
        let cubeObject = null;

        function logSceneHierarchy(object, level = 0) {
            const indent = '  '.repeat(level);
            console.log(`${indent}- ${object.name} (${object.type})`);
            if (object.children) {
                object.children.forEach(child => {
                    logSceneHierarchy(child, level + 1);
                });
            }
        }

        const loader = new GLTFLoader();
        loader.load(
            'https://raw.githubusercontent.com/Pi314Git/MainboardViewer/refs/heads/master/untitled1.glb',
            function (gltf) {
                loadedModel = gltf.scene;
                scene.add(loadedModel);

                const box = new THREE.Box3().setFromObject(loadedModel);
                mainboardCenter = box.getCenter(new THREE.Vector3());
                mainboardSize = box.getSize(new THREE.Vector3());
                loadedModel.position.x = -mainboardCenter.x;
                loadedModel.position.y = -mainboardCenter.y;
                loadedModel.position.z = -mainboardCenter.z;

                const maxDim = Math.max(mainboardSize.x, mainboardSize.y, mainboardSize.z);
                const fov = camera.fov * (Math.PI / 180);
                let cameraZ = Math.abs(maxDim / (2 * Math.tan(fov / 2)));

                cameraZ *= 1.8; // je höher desto weiter

                console.log("Mainboard Center:", mainboardCenter);
                console.log("Camera Z Position:", cameraZ);

                camera.position.set(0, 2, cameraZ);
                camera.lookAt(0, 0, 0);
                controls.target.set(0, 0, 0);
                controls.update();

                initialCameraPosition = camera.position.clone();
                initialCameraTarget = controls.target.clone();

                console.log("--- Scene Hierarchy ---");
                logSceneHierarchy(scene);
                console.log("--- End Scene Hierarchy ---");

                findAndHideCube();
                populateSidebar();
            },
            undefined,
            function (error) {
                console.error(error);
            }
        );

        function findAndHideCube() {
            if (!loadedModel) return;

            function findObjectByNameRecursive(objectName, root) {
                let foundObject = null;
                root.traverse(function(object) {
                    if (object.name === objectName) {
                        foundObject = object;
                    }
                });
                return foundObject;
            }

            cubeObject = findObjectByNameRecursive("Cube", loadedModel);

            if (cubeObject) {
                console.log("Cube-Objekt gefunden, wird ausgeblendet:", cubeObject);
                cubeObject.visible = false;
            } else {
                console.warn("Cube-Objekt konnte nicht gefunden werden!");
            }
        }

        function populateSidebar() {
            const sidebarList = document.querySelector('#sidebar ul');
            sidebarList.innerHTML = '';

            const sortedHotspots = [...hotspotsData].sort((a, b) => a.name.localeCompare(b.name));

            sortedHotspots.forEach(hotspotData => {
                const li = document.createElement('li');
                li.textContent = hotspotData.name;
                li.addEventListener('click', () => {
                    handleHotspotClick(hotspotData);
                });
                sidebarList.appendChild(li);
            });
        }

        function handleHotspotClick(hotspotData) {
            if (currentHotspot) {
                setActiveHotspot(currentHotspot, false);
                highlightObjects(currentHotspot.objectNames, false);

                if (currentHotspot.name === "Chipsatz" && cubeObject) {
                    cubeObject.visible = false;
                }
            }

            currentHotspot = hotspotData;
            setActiveHotspot(hotspotData, true);
            displayInfo(hotspotData.info); // Ruft die geänderte displayInfo Funktion auf
            highlightObjects(hotspotData.objectNames, true);

            if (hotspotData.name === "Chipsatz" && cubeObject) {
                cubeObject.visible = true;
                console.log("Cube-Objekt wird angezeigt, da Chipsatz ausgewählt wurde");
            }
        }

        function setActiveHotspot(hotspotData, active) {
            const liElements = document.querySelectorAll('#sidebar li');
            liElements.forEach((li) => {
                li.classList.remove('active');
            });

            if (active) {
                const activeLi = Array.from(liElements).find((li) => li.textContent === hotspotData.name);
                if (activeLi) {
                    activeLi.classList.add('active');
                }
            }
        }

        function highlightObjects(objectNames, highlight) {
             if (!loadedModel) return;

             function findObjectByNameRecursive(objectName, root) {
                 let foundObject = null;
                 root.traverse(function(object) {
                     if (object.name === objectName) {
                         foundObject = object;
                     }
                 });
                 return foundObject;
             }

             function findFirstMeshChildRecursive(object) {
                 if (object.type === 'Mesh') {
                     return object;
                 }
                 if (object.children) {
                     for (const child of object.children) {
                         const meshChild = findFirstMeshChildRecursive(child);
                         if (meshChild) {
                             return meshChild;
                         }
                     }
                 }
                 return null;
             }

             objectNames.forEach(objectName => {
                 const containerObject = findObjectByNameRecursive(objectName, loadedModel);

                 if (containerObject) {
                     const meshObject = findFirstMeshChildRecursive(containerObject);

                     if (meshObject && meshObject.material) {
                         console.log(`[DEBUG] Container-Objekt "${objectName}" gefunden (Typ: ${containerObject.type}). Mesh-Kind gefunden (Typ: ${meshObject.type}) mit Material:`, meshObject.material);

                         if (highlight) {
                             // Store original color only if not already stored
                             if (!meshObject.userData.originalColor) {
                                 meshObject.userData.originalColor = meshObject.material.color.clone();
                             }
                             meshObject.material.color.set(0xFFD700); // Highlight color: Gold/Yellow
                             console.log(`[HIGHLIGHT] Farbe von Mesh-Objekt unter "${objectName}" auf HIGHLIGHT gesetzt!`);
                         } else {
                             if (meshObject.userData.originalColor) {
                                 meshObject.material.color.copy(meshObject.userData.originalColor);
                                 // Remove stored color after restoring
                                 delete meshObject.userData.originalColor;
                                 console.log(`[DE-HIGHLIGHT] Farbe von Mesh-Objekt unter "${objectName}" auf Originalfarbe zurückgesetzt.`);
                             } else {
                                console.log(`[DE-HIGHLIGHT] Keine Originalfarbe für Mesh-Objekt unter "${objectName}" gespeichert.`);
                             }
                         }
                     } else {
                         console.warn(`[WARNUNG] Mesh-Objekt oder Material unter Container-Objekt "${objectName}" NICHT gefunden!`);
                         if (!meshObject) {
                             console.warn(`[DETAIL] Kein Mesh-Kind unter "${objectName}" gefunden.`);
                         } else if (!meshObject.material) {
                             console.warn(`[DETAIL] Mesh-Kind "${meshObject.name}" gefunden, aber ohne Material!`);
                         }
                     }
                 } else {
                     console.warn(`Objekt-Container "${objectName}" NICHT gefunden! (rekursiv gesucht)`);
                 }
             });
         }


        // --- START: Angepasste displayInfo Funktion ---
        function displayInfo(infoHtml) { // Parameter umbenannt, da es jetzt HTML ist
            const infoDiv = document.getElementById('info');
            const infoContent = document.getElementById('info-content');
            infoContent.innerHTML = infoHtml; // ÄNDERUNG: .innerHTML statt .textContent
            infoDiv.scrollTop = 0; // Nach oben scrollen, wenn neuer Inhalt kommt
            infoDiv.classList.add('open');
        }
        // --- END: Angepasste displayInfo Funktion ---


        document.getElementById('close-button').addEventListener('click', () => {
            document.getElementById('info').classList.remove('open');
            // Optional: De-highlight beim Schließen der Box
            if (currentHotspot) {
                 setActiveHotspot(currentHotspot, false);
                 highlightObjects(currentHotspot.objectNames, false);
                 if (currentHotspot.name === "Chipsatz" && cubeObject) {
                    cubeObject.visible = false;
                 }
                 currentHotspot = null;
            }
        });

        document.getElementById('home-button').addEventListener('click', () => {
            camera.position.copy(initialCameraPosition);
            controls.target.copy(initialCameraTarget);
            controls.update();
            if (currentHotspot) {
                setActiveHotspot(currentHotspot, false);
                highlightObjects(currentHotspot.objectNames, false);

                if (currentHotspot.name === "Chipsatz" && cubeObject) {
                    cubeObject.visible = false;
                }

                currentHotspot = null;
            }
            document.getElementById('info').classList.remove('open');
            const liElements = document.querySelectorAll('#sidebar li');
            liElements.forEach((li) => {
                li.classList.remove('active');
            });
        });

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }

        animate();

        // === Event Listener für Übungsaufgaben und Zurück-Button bleiben unverändert ===
        const exercisesButton = document.getElementById('exercises-button');
        const exercisesSection = document.getElementById('exercises-section');
        const backButton = document.getElementById('back-button'); // Back-Button im Quiz-Bereich

        if (exercisesButton) {
            exercisesButton.addEventListener('click', () => {
                document.getElementById('exercises-section').style.display = 'block';
                document.getElementById('info').style.display = 'none';
                document.getElementById('sidebar').style.display = 'none';
                document.getElementById('exercises-nav').style.display = 'none';
                document.querySelector('canvas').style.display = 'none';
                document.getElementById('formfaktor-tab').style.display = 'none';
                document.getElementById('form-factor-info').style.display = 'none'; // Formfaktor-Info auch ausblenden
            });
        }

        if (backButton) {
             backButton.addEventListener('click', () => {
                document.getElementById('exercises-section').style.display = 'none';
                document.getElementById('info').style.display = 'block'; // Sichtbarkeit wiederherstellen
                document.getElementById('sidebar').style.display = 'block';
                document.getElementById('exercises-nav').style.display = 'block';
                document.querySelector('canvas').style.display = 'block';
                document.getElementById('formfaktor-tab').style.display = 'block';
                document.getElementById('form-factor-info').style.display = 'block'; // Formfaktor-Info auch wieder einblenden

                 // Reset feedback
                 document.querySelectorAll('.feedback').forEach(el => {
                     el.textContent = '';
                     el.className = 'feedback';
                     el.style.display = 'none'; // Wichtig: Feedback wieder ausblenden
                 });
             });
        }


        // Quiz Logik
        const checkAnswersButton = document.getElementById('check-answers');
        if (checkAnswersButton) {
            checkAnswersButton.addEventListener('click', function() {
                 const correctAnswers = { q1: 'true', q2: 'c', q3: 'true', q4: 'c', q5: 'c' };
                 for (let question in correctAnswers) {
                     const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                     const feedbackElement = document.getElementById(`feedback-${question}`);
                     if (!selectedOption) {
                         feedbackElement.textContent = 'Bitte wählen Sie eine Antwort aus.';
                         feedbackElement.className = 'feedback incorrect';
                         continue;
                     }
                     if (selectedOption.value === correctAnswers[question]) {
                         feedbackElement.textContent = 'Richtig!';
                         feedbackElement.className = 'feedback correct';
                     } else {
                         feedbackElement.textContent = 'Falsch. Bitte versuchen Sie es erneut.';
                         feedbackElement.className = 'feedback incorrect';
                     }
                 }
             });
        }


    </script>

    <div style="position: fixed; bottom: 20px; right: 20px; display: flex; flex-direction: column; align-items: flex-end; gap: 10px; z-index: 1000;">
        <div id="formfaktor-tab" style="background: linear-gradient(90deg, rgba(255, 165, 0, 0.8), rgba(255, 140, 0, 0.6)); color: #fff; padding: 10px 15px; border-radius: 10px; cursor: pointer; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3); transition: all 0.2s; font-weight: 500;">
            Formfaktor-Vergleich
        </div>

        <div id="form-factor-info" style="background: linear-gradient(145deg, rgba(40, 40, 40, 0.9), rgba(30, 30, 30, 0.95)); color: #f0f0f0; padding: 10px 15px; border-radius: 10px; font-size: 14px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1);">
            <a href="https://rog.asus.com/de/motherboards/rog-strix/rog-strix-x370-f-gaming-model/spec/" target="_blank" style="color: #ff8c00; text-decoration: none; transition: color 0.2s;">ASUS ROG STRIX X370-F GAMING Mainboard</a> (ATX Form Faktor: 12 inch × 9.6 inch (30.5 cm × 24.4 cm)
        </div>
    </div>

    <div id="formfactor-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 2000; display: none; justify-content: center; align-items: center; overflow: hidden;">
        <div style="position: relative; width: 90%; max-width: 900px; max-height: 90vh; background: linear-gradient(145deg, rgba(40, 40, 40, 0.95), rgba(25, 25, 25, 0.98)); border-radius: 15px; padding: 30px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5); color: #f0f0f0; border: 1px solid rgba(255, 255, 255, 0.1); overflow-y: auto;">
            <div id="close-formfactor" style="position: sticky; top: 0; float: right; font-size: 24px; cursor: pointer; color: #aaa; transition: color 0.2s; z-index: 10;">&#10006;</div>
            <h2 style="margin-top: 0; color: #ff8c00; text-align: center; margin-bottom: 25px; border-bottom: 1px solid rgba(255, 165, 0, 0.3); padding-bottom: 15px;">Mainboard Formfaktor-Vergleich</h2>

            <div style="display: flex; justify-content: center; margin-bottom: 30px;">
                <svg id="formfactor-svg" width="800" height="500" style="max-width: 100%;">
                    </svg>
            </div>

            <div style="display: flex; flex-wrap: wrap; justify-content: space-around; gap: 15px;">
                 <div class="formfactor-card" style="background: rgba(60, 60, 60, 0.5); padding: 15px; border-radius: 10px; width: calc(33% - 15px); min-width: 250px; margin-bottom: 15px; border-left: 3px solid #ff8c00;">
                     <h3 style="margin-top: 0; color: #ff8c00;">ATX</h3>
                     <p>12" × 9.6" (30.5 cm × 24.4 cm)</p>
                     <p>Standard für die meisten Desktop-PCs. Bietet gute Erweiterungsmöglichkeiten mit mehreren PCIe-Slots und 4 RAM-Steckplätzen.</p>
                 </div>
                 <div class="formfactor-card" style="background: rgba(60, 60, 60, 0.5); padding: 15px; border-radius: 10px; width: calc(33% - 15px); min-width: 250px; margin-bottom: 15px; border-left: 3px solid #4682B4;">
                     <h3 style="margin-top: 0; color: #4682B4;">Micro-ATX</h3>
                     <p>9.6" × 9.6" (24.4 cm × 24.4 cm)</p>
                     <p>Kompakter als ATX, aber mit ähnlichen Funktionen. Hat typischerweise weniger Erweiterungssteckplätze.</p>
                 </div>
                 <div class="formfactor-card" style="background: rgba(60, 60, 60, 0.5); padding: 15px; border-radius: 10px; width: calc(33% - 15px); min-width: 250px; margin-bottom: 15px; border-left: 3px solid #32CD32;">
                     <h3 style="margin-top: 0; color: #32CD32;">Mini-ITX</h3>
                     <p>6.7" × 6.7" (17 cm × 17 cm)</p>
                     <p>Sehr kompaktes Format für kleine PC-Gehäuse. Meist nur ein PCIe-Slot und 2 RAM-Steckplätze.</p>
                 </div>
                 <div class="formfactor-card" style="background: rgba(60, 60, 60, 0.5); padding: 15px; border-radius: 10px; width: calc(33% - 15px); min-width: 250px; margin-bottom: 15px; border-left: 3px solid #9370DB;">
                     <h3 style="margin-top: 0; color: #9370DB;">E-ATX</h3>
                     <p>12" × 13" (30.5 cm × 33 cm)</p>
                     <p>Erweitertes ATX-Format für High-End-Systeme mit zusätzlichen Erweiterungsmöglichkeiten und Features.</p>
                 </div>
                 <div class="formfactor-card" style="background: rgba(60, 60, 60, 0.5); padding: 15px; border-radius: 10px; width: calc(33% - 15px); min-width: 250px; margin-bottom: 15px; border-left: 3px solid #FF6347;">
                     <h3 style="margin-top: 0; color: #FF6347;">Dual Sockel</h3>
                     <p>13" × 14" (33 cm × 35.6 cm) oder größer</p>
                     <p>Für Workstations und Server mit zwei CPU-Sockeln. Sehr große Boards mit vielen Erweiterungsmöglichkeiten.</p>
                 </div>
                 <div class="formfactor-card" style="background: rgba(60, 60, 60, 0.5); padding: 15px; border-radius: 10px; width: calc(33% - 15px); min-width: 250px; margin-bottom: 15px; border-left: 3px solid #FFD700;">
                     <h3 style="margin-top: 0; color: #FFD700;">Notebook</h3>
                     <p>~ 8" × 5" (20.3 cm × 12.7 cm) variiert stark</p>
                     <p>Speziell für Laptops entwickelt. Stark integrierte Komponenten mit wenig Erweiterungsmöglichkeiten.</p>
                 </div>
            </div>
        </div>
    </div>

    <script>
        // Sofortige Ausführung des Codes ohne DOMContentLoaded zu warten
        (function() {
            // Direktes Hinzufügen der Event-Listener
            const formfactorTab = document.getElementById('formfaktor-tab');
            const formfactorOverlay = document.getElementById('formfactor-overlay');
            const closeFormfactor = document.getElementById('close-formfactor');

            if (formfactorTab) {
                formfactorTab.onclick = function() {
                    if (formfactorOverlay) {
                        formfactorOverlay.style.display = 'flex';
                        drawFormfactorComparison();
                    }
                };

                // Hover-Effekte
                formfactorTab.onmouseenter = function() {
                    this.style.transform = 'translateY(-3px)';
                    this.style.boxShadow = '0 6px 12px rgba(0, 0, 0, 0.3)';
                };

                formfactorTab.onmouseleave = function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 3px 10px rgba(0, 0, 0, 0.3)';
                };
            }

            if (closeFormfactor) {
                closeFormfactor.onclick = function() {
                    if (formfactorOverlay) {
                        formfactorOverlay.style.display = 'none';
                    }
                };
            }

            // ESC-Taste schließt das Overlay
            document.onkeydown = function(e) {
                if (e.key === 'Escape' && formfactorOverlay && formfactorOverlay.style.display === 'flex') {
                    formfactorOverlay.style.display = 'none';
                }
            };

            // Klick außerhalb des Overlays schließt es
            if (formfactorOverlay) {
                formfactorOverlay.onclick = function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                };
            }

            // Größenanpassung bei Fensteränderung
            window.onresize = function() {
                if (formfactorOverlay && formfactorOverlay.style.display === 'flex') {
                    drawFormfactorComparison();
                }
            };

            // Führe auch DOMContentLoaded-Setup für Abwärtskompatibilität durch
            document.addEventListener('DOMContentLoaded', function() {
                // Falls die direkten Bindungen nicht funktioniert haben
                const formfactorTab = document.getElementById('formfaktor-tab');
                const formfactorOverlay = document.getElementById('formfactor-overlay');
                const closeFormfactor = document.getElementById('close-formfactor');

                if (formfactorTab && !formfactorTab.onclick) { // Nur hinzufügen, wenn noch kein Handler existiert
                    formfactorTab.addEventListener('click', function() {
                        if (formfactorOverlay) {
                            formfactorOverlay.style.display = 'flex';
                            drawFormfactorComparison();
                        }
                    });

                    formfactorTab.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-3px)';
                        this.style.boxShadow = '0 6px 12px rgba(0, 0, 0, 0.3)';
                    });

                    formfactorTab.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = '0 3px 10px rgba(0, 0, 0, 0.3)';
                    });
                }

                if (closeFormfactor && !closeFormfactor.onclick) { // Nur hinzufügen, wenn noch kein Handler existiert
                    closeFormfactor.addEventListener('click', function() {
                        if (formfactorOverlay) {
                            formfactorOverlay.style.display = 'none';
                        }
                    });
                }
            });
        })();

         // Formfaktor SVG zeichnen - Verbesserte Version
         function drawFormfactorComparison() {
             const formfactors = [
                 { name: "Dual Sockel", width: 33, height: 35.6, color: "#FF6347" },
                 { name: "E-ATX", width: 30.5, height: 33, color: "#9370DB" },
                 { name: "ATX", width: 30.5, height: 24.4, color: "#ff8c00" },
                 { name: "Micro-ATX", width: 24.4, height: 24.4, color: "#4682B4" },
                 { name: "Mini-ITX", width: 17, height: 17, color: "#32CD32" },
                 { name: "Notebook", width: 20.3, height: 12.7, color: "#FFD700" }
             ];

             const svg = document.getElementById('formfactor-svg');
             if (!svg) {
                 console.error('SVG-Element nicht gefunden');
                 return;
             }

             svg.innerHTML = ''; // Clear previous content

             const scale = 10;
             const padding = 120;
             const maxWidth = Math.max(...formfactors.map(f => f.width)) * scale + padding * 2;
             const maxHeight = Math.max(...formfactors.map(f => f.height)) * scale + padding * 2;

             svg.setAttribute('viewBox', `0 0 ${maxWidth} ${maxHeight}`);

             const centerX = maxWidth / 2;
             const centerY = maxHeight / 2;

             const textOffsets = {
                 "Dual Sockel": { x: -380, y: -0 },
                 "E-ATX": { x: -380, y: -50 },
                 "ATX": { x: -380, y: -100 },
                 "Micro-ATX": { x: -380, y: -150 },
                 "Mini-ITX": { x: -380, y: -200 },
                 "Notebook": { x: -380, y: -250 }
             };

             try {
                 formfactors.forEach(ff => {
                     const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                     const x = centerX - (ff.width * scale / 2);
                     const y = centerY - (ff.height * scale / 2);

                     rect.setAttribute('x', x);
                     rect.setAttribute('y', y);
                     rect.setAttribute('width', ff.width * scale);
                     rect.setAttribute('height', ff.height * scale);
                     rect.setAttribute('stroke', ff.color);
                     rect.setAttribute('stroke-width', '3');
                     rect.setAttribute('fill', ff.color + '20');
                     rect.setAttribute('rx', '5');
                     svg.appendChild(rect);

                     const textX = centerX + textOffsets[ff.name].x;
                     const textY = centerY + textOffsets[ff.name].y;

                     const textBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                     textBg.setAttribute('x', textX - 60);
                     textBg.setAttribute('y', textY - 18);
                     textBg.setAttribute('width', 120);
                     textBg.setAttribute('height', 40);
                     textBg.setAttribute('fill', 'rgba(40, 40, 40, 0.7)');
                     textBg.setAttribute('rx', '4');
                     svg.appendChild(textBg);

                     const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                     text.setAttribute('x', textX);
                     text.setAttribute('y', textY);
                     text.setAttribute('text-anchor', 'middle');
                     text.setAttribute('fill', ff.color);
                     text.setAttribute('font-weight', 'bold');
                     text.setAttribute('font-size', '14px');
                     text.textContent = ff.name;
                     svg.appendChild(text);

                     const dimensions = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                     dimensions.setAttribute('x', textX);
                     dimensions.setAttribute('y', textY + 20);
                     dimensions.setAttribute('text-anchor', 'middle');
                     dimensions.setAttribute('fill', '#ffffff');
                     dimensions.setAttribute('font-size', '12px');
                     dimensions.textContent = `${ff.width} × ${ff.height} cm`;
                     svg.appendChild(dimensions);
                 });

                 const link = document.createElementNS("http://www.w3.org/2000/svg", "a");
                 link.setAttribute("href", "https://www.wired.com/story/motherboard-size-explainer/");
                 link.setAttribute("target", "_blank");

                 const legendY = maxHeight - 15;
                 const legendX = maxWidth / 2;

                 const legend = document.createElementNS("http://www.w3.org/2000/svg", "text");
                 legend.setAttribute("x", legendX);
                 legend.setAttribute("y", legendY);
                 legend.setAttribute("text-anchor", "middle");
                 legend.setAttribute("fill", "#FFD700");
                 legend.setAttribute("font-size", "20px");
                 legend.setAttribute("cursor", "pointer");
                 legend.textContent = "Ausführlicher Beitrag zu Formfaktoren (englisch) <- Klick";

                 link.appendChild(legend);
                 svg.appendChild(link);

             } catch (error) {
                 console.error('Fehler beim Zeichnen des SVG:', error);
             }
         }
    </script>

    <div id="exercises-nav" style="position: fixed; top: 0; left: 242px; background: linear-gradient(180deg, rgba(35, 35, 35, 0.95), rgba(25, 25, 25, 0.95)); padding: 10px 20px; border-radius: 0 0 10px 0; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3); z-index: 1001; border: 1px solid rgba(255, 255, 255, 0.05);">
        <div id="exercises-button" style="padding: 12px 15px; background: linear-gradient(90deg, rgba(70, 70, 70, 0.7), rgba(50, 50, 50, 0.7)); border-radius: 8px; cursor: pointer; text-align: center; color: #f0f0f0; transition: all 0.2s; font-weight: 500; border: 1px solid rgba(255, 255, 255, 0.1);">
            Übungsaufgaben
        </div>
    </div>
</body>
</html>
